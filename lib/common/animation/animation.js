"use strict";var e=function(e){return e&&e.__esModule?e["default"]:e},t=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function m(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:m(i,t,n)}if("value"in r&&r.writable)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=e(require("path")),a=require("animation-utilities"),c=a.TimelineBuilder,u=a.RobotInfo,f=a.JiboConfig,l=a.visualize,s=a.animate,v=require("events").EventEmitter,d=e(require("jibo-keyframes")),p=e(require("../../atom-react/core/react-editor")),h=function(e){function a(){i(this,a),n(Object.getPrototypeOf(a.prototype),"constructor",this).call(this),this.config=new f,this.initialized=!1}return r(a,e),t(a,{createNewRenderer:{value:function(e){var t=this;l.createRobotRenderer(this.robotInfo,null,l.DisplayType.BODY,function(n){n&&(n.setBackgroundColor(63/255,169/255,245/255),c.connectRenderer(t.timeline,n),e(n))})}},attach:{value:function(e){this.renderer.attachToContainer(e)}},init:{value:function(){var e=this;u.createInfo(this.config,function(t){c.createTimeline(t,function(n){e.timeline=n,e.robotInfo=t,e.factory=s.createAnimationUtilities(n,t),e.factory.setDefaultTransition(null),e.createNewRenderer(function(t){e.renderer=t,c.connectRenderer(n,t),e.initialized=!0,e.emit("init")})})})}},createAnimation:{value:function(e,t){var n=this,r=o.extname(e);".anim"===r?this.factory.createAnimationBuilder(e,function(e){t(e)},!0):".keys"===r&&!function(){var r=p.getProjectRoot(e);d.keysToAnimObjectAsync(e,function(e){var i=n.factory.createAnimationBuilderFromData(e,r);t(i)})}()}},detach:{value:function(){this.renderer&&this.renderer.detachFromContainer()}}}),a}(v);module.exports=h;