"use strict";var e=function(e){return e&&e.__esModule?e["default"]:e},r=require("child_process").spawn,t=e(require("path")),o=e(require("fs")),n=require.resolve("jibo-tools"),a=t.resolve(t.parse(n).dir,"../"),i=require(t.resolve(a,"node_modules/electron-prebuilt/index")),s="cmajghqmadhnadjcjhamajdhda";module.exports={isUserLoggedIn:function(){var e=!0;try{o.lstatSync(t.resolve(__dirname,"../../djenfhviakq.private")),e=!1}catch(r){e=!0}return e?"true"===localStorage.getItem(s):!0},showDialog:function(e){var o=this;require("crypto").randomBytes(48,function(n,a){var l=a.toString("hex"),u=r(i,[t.resolve(__dirname,"../../gating/electron-bootstrap.js")],{cwd:t.resolve(__dirname,"../../gating/"),env:{token:l}});u.stdout.on("data",function(e){var r=e.toString();r===l&&localStorage.setItem(s,!0)}),u.on("close",function(){e(null,o.isUserLoggedIn())})})}};