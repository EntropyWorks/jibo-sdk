"use strict";var e=function(e){return e&&e.__esModule?e["default"]:e},t=require("child_process").spawn,r=e(require("path")),o=e(require("fs")),n=require("jibo-tools").getElectronPath(),a="cmajghqmadhnadjcjhamajdhda";module.exports={isUserLoggedIn:function(){var e=!0;try{o.lstatSync(r.resolve(__dirname,"../../djenfhviakq.private")),e=!1}catch(t){e=!0}return e?"true"===localStorage.getItem(a):!0},showDialog:function(e){var o=this;require("crypto").randomBytes(48,function(i,s){var c=s.toString("hex"),u=t(n,[r.resolve(__dirname,"../../gating/electron-bootstrap.js")],{cwd:r.resolve(__dirname,"../../gating/"),env:{token:c}});u.stdout.on("data",function(e){var t=e.toString();t===c&&localStorage.setItem(a,!0)}),u.on("close",function(){e(null,o.isUserLoggedIn())})})}};