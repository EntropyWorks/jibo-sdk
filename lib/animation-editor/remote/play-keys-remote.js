"use strict";var e=function(e){return e&&e.__esModule?e["default"]:e},t=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function O(e,t,n){var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:O(r,t,n)}if("value"in i&&i.writable)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=e(require("jibo-keyframes")),u=require("events").EventEmitter,a=require("animation-utilities"),l=a.JiboConfig,c=a.LEDOutput,s=a.animate,f=a.body,p=a.TimelineBuilder,d=a.RobotInfo,b=e(require("../../toolbar/run-configuration")),v=e(require("url")),y=function(e){function u(){r(this,u),n(Object.getPrototypeOf(u.prototype),"constructor",this).call(this),this.builder=null,this.instance=null}return i(u,e),t(u,{play:{value:function(e){var t=this;d.createInfo(new l,function(n){p.createTimeline(n,function(i){var r="ws:"+v.parse(b.host).hostname+":8282",u=new f.BodyPosVelOutput(i.getClock(),n,r,!0,33);i.getModalityDelegate(s.MODALITY_NAME).addOutput(u,null);var a=new c(i.getClock(),n,r,!0,33);i.getModalityDelegate(s.MODALITY_NAME).addOutput(a,null);var l=s.createAnimationUtilities(i,n),d=o.keysObjToAnimObject(e);t.builder=l.createAnimationBuilderFromData(d),t.builder.on("STOPPED",function(){p.disposeTimeline(i,!0),t.builder.eventHandlers={},t.builder=null,t.instance=null,t.emit("stopped")}),t.instance=t.builder.play()})})}},stop:{value:function(){this.instance&&this.instance.stop()}}}),u}(u);module.exports=new y;