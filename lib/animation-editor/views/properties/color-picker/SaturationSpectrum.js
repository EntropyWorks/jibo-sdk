"use strict";var t=function(t){return t&&t.__esModule?t["default"]:t},e=t(require("react")),r=t(require("region")),i=require("./utils/color").fromRatio,o=t(require("./utils/common")),s=t(require("./utils/validate"));module.exports=e.createClass(Object.assign({displayName:"SaturationSpectrum",getDefaultProps:function(){return{height:300,width:300,pointerSize:7,defaultColor:require("./defaultColor")}},getInitialState:function(){return{pointerTop:null,pointerLeft:null}},componentDidUpdate:function(){},componentDidMount:function(){this.updateDragPositionIf()},updateDragPositionIf:function(){this.props.height&&this.props.width||this.setState({})},getDragPosition:function(t){t=t||this.hsv;var e=this.props.width,i=this.props.height,o=e&&i;if(!o&&!this.isMounted())return null;var s;o||(s=r.fromDOM(this.getDOMNode()),i=i||s.getHeight(),e=e||s.getWidth());var a=t.s*e,n=i-t.v*i,u=this.props.pointerSize,l=Math.floor(u/2);return this.props.value&&this.state.mouseDown,{left:a-l,top:n-l}},prepareBackgroundColor:function(t){var e=t,r=i({h:e.h%360/360,s:1,v:1});return r.toRgbString()},prepareProps:function(t,e){var r=Object.assign({},t),i=e.value||r.value||r.defaultValue||r.defaultColor;return r.color=i,this.hsv=this.toColorValue(i),r.style=this.prepareStyle(r),r.className=this.prepareClassName(r),r},prepareClassName:function(t){var e=t.className||"";return e+=" cp-saturation-spectrum"},prepareStyle:function(t){var e=t.style||{};return t.height&&(e.height=t.height),t.width&&(e.width=t.width),e.backgroundColor=this.prepareBackgroundColor(this.hsv),e},render:function(){var t=this.p=this.prepareProps(this.props,this.state),r={width:this.props.pointerSize,height:this.props.pointerSize},i=this.getDragPosition();return i&&(r.top=i.top,r.left=i.left,r.display="block"),e.createElement("div",{className:t.className,style:t.style,onMouseDown:this.onMouseDown},e.createElement("div",{className:"cp-saturation-white"},e.createElement("div",{className:"cp-saturation-black"})),e.createElement("div",{className:"cp-saturation-drag",style:r},e.createElement("div",{className:"inner"})))},getSaturationForPoint:function(t){return t.x/t.width},getColorValueForPoint:function(t){return(t.height-t.y)/t.height},updateColor:function(t){t=s(t),this.hsv.s=this.getSaturationForPoint(t),this.hsv.v=this.getColorValueForPoint(t)},toStringValue:require("./utils/toStringValue")},o));